% ----------------------------------------------------------------------
% Configurar a classe do documento
% ----------------------------------------------------------------------
\documentclass[12pt]{article}

% ----------------------------------------------------------------------
% Definir packages externos, língua, margens, tipos de letra, novos 
% comandos e cores
% ----------------------------------------------------------------------
\usepackage[utf8]{inputenc} % Codificação utilizada
\usepackage[english]{babel} % Idioma de escrita

\usepackage[export]{adjustbox} % Alinhar imagens
\usepackage{amsmath} % Comandos extra para escrita matemática
\usepackage{amssymb} % Símbolos matemáticos
\usepackage{anysize} % Personalizar as margens
    \marginsize{2cm}{2cm}{2cm}{2cm} % {esquerda}{direita}{cima}{baixo}
\usepackage{appendix} % Apêndices
\usepackage{cancel} % Cancelar expressões
\usepackage{caption} % Legendas
    \DeclareCaptionFont{newfont}{\fontfamily{cmss}\selectfont}
    \captionsetup{labelfont={bf, newfont}}
\usepackage{cite} % Citações, tipo [1 - 3]
\usepackage{color} % Colorir texto
\usepackage{fancyhdr} % Cabeçalho e rodapé
    \pagestyle{fancy}
    \fancyhf{}
    \fancyhead[L]{\footnotesize\fontfamily{cmss}\selectfont IST} % Esquerda do cabeçalho
    \fancyhead[R]{\footnotesize\fontfamily{cmss}\selectfont ULisboa} % Direita do cabeçalho
    \fancyfoot[L]{\footnotesize\fontfamily{cmss}\selectfont Robotics} % Esquerda do rodapé
    \fancyfoot[C]{\thepage} % Centro do rodapé
    \fancyfoot[R]{\footnotesize\fontfamily{cmss}\selectfont MEEC} % Direita do rodapé
    \renewcommand{\footrulewidth}{0.4pt} % Régua do rodapé
\usepackage{float} % Utilizar o especificador [H] nas figuras
\usepackage{graphicx} % Imagens em LaTeX
\usepackage[colorlinks = true, plainpages = true, linkcolor = istblue, urlcolor = istblue, citecolor = istblue, anchorcolor = istblue]{hyperref}
\usepackage{indentfirst} % Primeiro parágrafo
\usepackage{siunitx} % Unidades SI
\usepackage{subcaption} % Subfiguras
\usepackage{titlesec} % Tipo de letra
    \titleformat{\section}{\fontfamily{cmss}\selectfont\Large\bfseries}{\thesection}{1em}{}
    \titleformat{\subsection}{\fontfamily{cmss}\selectfont\large\bfseries}{\thesubsection}{1em}{}
    \titleformat{\subsubsection}{\fontfamily{cmss}\selectfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
    \fancyfoot[C]{\fontfamily{cmss}\selectfont\thepage}

% Encher de texto aleatório (apagar)
\usepackage{lipsum}
\usepackage{duckuments}

% Novos e renovar comandos
\newcommand{\sen}{\operatorname{\sen}} % Definição da função seno
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Definição de uma régua
\renewcommand{\appendixpagename}{\LARGE \fontfamily{cmss}\selectfont Appendices}
\renewcommand{\appendixtocname}{Appendices}

% Cores
\definecolor{istblue}{RGB}{3, 171, 230}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                               Documento                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

% ----------------------------------------------------------------------
% Capa
% ----------------------------------------------------------------------
\begin{center}
    \begin{figure}
        \vspace{-1.0cm}
        \includegraphics[scale = 0.3, left]{Imagens/IST_A.eps} % Tipo de assinatura do IST
    \end{figure}
    \mbox{}\\[2.0cm]
    \textsc{\Huge Robotics}\\[2.5cm]
    \textsc{\LARGE MEEC}\\[2.0cm]
    \HRule\\[0.4cm]
    {\large \bf {\fontfamily{cmss}\selectfont Orientation Estimation and Trajectory Analysis Using Sensor Data}}\\[0.2cm]
    \HRule\\[1.5cm]
\end{center}

\begin{flushleft}
    \textbf{\fontfamily{cmss}\selectfont Authors:}
\end{flushleft}

\begin{center}
    \begin{minipage}{0.5\textwidth}
        \begin{flushleft}
            Vladimiro José de Medeiros Roque (98589)\\
            José Pedro da Cunha Rodrigues (113234)\\
            Miguel Rodrigues Ferreira (113289)\\
            Pedro Alexandre Ferreira Dias Lopes (103194)
        \end{flushleft}
    \end{minipage}%
    \begin{minipage}{0.5\textwidth}
        \begin{flushright}
            \href{mailto:vladimiro.roque@tecnico.ulisboa.pt}{\texttt{vladimiro.roque@tecnico.ulisboa.pt}}\\
            \href{mailto:jose.p.rodrigues@tecnico.ulisboa.pt}{\texttt{jose.p.rodrigues@tecnico.ulisboa.pt}}\\
            \href{mailto:miguel.r.ferreira@tecnico.ulisboa.pt}{\texttt{miguel.r.ferreira@tecnico.ulisboa.pt}}
            \href{mailto:pedroafdlopes@tecnico.ulisboa.pt}{\texttt{pedroafdlopes@tecnico.ulisboa.pt}}
        \end{flushright}
    \end{minipage}
\end{center}
    
\begin{flushleft}
    \large $\boxed{\text{\bf \fontfamily{cmss}\selectfont Group} \ \textbf{9}}$\\[4.0cm]
\end{flushleft}
    
\begin{center}
    \large \bf \fontfamily{cmss}\selectfont 2024/2025 -- 1º Semester, P2
\end{center}

\thispagestyle{empty}

\setcounter{page}{0}

\newpage

% ----------------------------------------------------------------------
% Conteúdo
% ----------------------------------------------------------------------
\tableofcontents 

\newpage

% ----------------------------------------------------------------------
% Desenvolvimento
% ----------------------------------------------------------------------
\section{Group Members Contribution} % Professor pediu esta seção, está nos slides da teorica (1º slides)

\section{Introduction} 

This laboratory assignment focuses on two core objectives: understanding the estimation of orientation using data from a rate-gyro sensor and an accelerometer, and demonstrating the application of an industrial-grade serial manipulator. By addressing these objectives, students will gain practical experience in processing sensor data, applying mathematical models, and reconstructing trajectories in both Cartesian and orientation spaces.
The work begins with the analysis of sensor data, provided in unique datasets for each group, containing approximately 20 seconds of measurements. The initial 5 seconds represent a static phase where the sensor remains stationary, providing a baseline for filtering and processing. These datasets include accelerometer readings (in milli-g) and rate-gyro readings (in degrees per second), formatted to facilitate computational analysis.
The assignment is divided into multiple tasks, starting with data visualization, filtering, and theoretical trajectory reconstruction equations. Further tasks involve the graphical representation of reconstructed trajectories and their interpretation. In the later stages, the focus shifts to the use of the Scorbot VII manipulator. Here, students will derive the robot's direct kinematics equations and assess whether the reconstructed trajectories can be executed by the manipulator.
By combining theoretical concepts with practical implementation, this lab offers an in-depth understanding of sensor data processing and robotic manipulator operations. 

\newpage

\section{Tasks}

\subsection{Task 1}

Task 1 involves visualizing sensor data by plotting the components of the accelerometer and rate-gyro measurements along their respective axes. This step is critical for understanding the behavior of the sensor during the data collection process and identifying any initial patterns or anomalies in the raw data.
The dataset provided contains time-stamped measurements from an accelerometer and a rate-gyro, with values distributed across three axes: x, y, and z. The accelerometer data (measured in milli-g) reflects linear acceleration along each axis, while the rate-gyro data (measured in degrees per second) provides angular velocity along the same axes. The first few seconds of the dataset capture the sensor in a static configuration, offering a baseline for comparison against later movements.
Through the visualization of these components in a combined plot, we aim to:

\begin{itemize}
    \item Distinguish the data trends for each axis.
    \item Identify any irregularities or noise in the data.
    \item Provide a foundation for further processing in subsequent tasks.
    \item This initial analysis will serve as the starting point for understanding the sensor's performance and the nature of the motion captured.
\end{itemize}


\begin{figure}[H]
    \centerline{\includegraphics[scale=0.7]{Imagens/angularvstime.png}}
    \caption{Angular velocity vs time.}
    \label{fig}
\end{figure}


\begin{figure}[H]
    \centerline{\includegraphics[scale=0.7]{Imagens/acclerationvstime.png}}
    \caption{Acceleration vs time}
    \label{fig}
\end{figure}

\subsection*{Z-Axis (Blue Line)}

In the acceleration graph, the blue line starts near \(10 \, \mathrm{m/s^2}\), which corresponds to the gravitational acceleration. This confirms that the blue line represents the \(z\)-axis, as it aligns with gravity during the static phase of the robotic arm.

In the angular velocity graph, the blue line represents \(\omega_z\) (angular velocity around the \(z\)-axis). As expected, there is a strong correlation between the changes in acceleration and angular velocity along this axis:
\begin{itemize}
    \item For example, at around 12 seconds, both acceleration and angular velocity show a significant negative dip, confirming the \(z\)-axis mapping.
\end{itemize}

\subsection*{X-Axis (Red Line)}

In the acceleration graph, the red line shows values near \(0 \, \mathrm{m/s^2}\) during the static phase, confirming that it is not aligned with gravity. However, during the dynamic phase (after \(\sim 5\) seconds), it shows significant positive and negative variations due to movement along this axis.

In the angular velocity graph, the red line represents \(\omega_x\) (angular velocity around the \(x\)-axis). We observe that:
\begin{itemize}
    \item When the angular velocity (\(\omega_x\)) increases positively (e.g., around 6 seconds), the corresponding acceleration (\(a_x\)) also shows a positive variation.
    \item This synchronized behavior validates that the red lines in both graphs represent the \(x\)-axis.
\end{itemize}

\subsection*{Y-Axis (Green Line)}

In the acceleration graph, the green line remains near a low positive value during the static phase, indicating that it is neither aligned with gravity nor orthogonal to it. During the dynamic phase, it exhibits moderate oscillations due to translational and rotational effects.

In the angular velocity graph, the green line represents \(\omega_y\) (angular velocity around the \(y\)-axis). Observing the dynamic phase:
\begin{itemize}
    \item Positive peaks in \(\omega_y\) (e.g., around 6 seconds) correspond to similar positive peaks in \(a_y\), confirming the mapping of the green line to the \(y\)-axis.
\end{itemize}

\subsection*{Alignment in Variation}

For all three axes (\(x\), \(y\), and \(z\)), we observe that when the angular velocity increases positively, the corresponding acceleration also increases positively. Similarly, when the angular velocity decreases or becomes negative, the corresponding acceleration exhibits a similar negative variation. This consistent relationship occurs because:

\subsubsection*{Rotational Dynamics Influence Linear Dynamics}
\begin{itemize}
    \item In a robotic arm, each joint's motion generates a combination of tangential and centripetal accelerations, which are directly tied to the angular velocity and its rate of change.
    \item The tangential acceleration depends on the rate of change of angular velocity (\(\dot{\omega}\)), while the centripetal acceleration depends on the square of angular velocity (\(\omega^2\)) and acts perpendicular to the direction of rotation.
\end{itemize}

\subsubsection*{Controlled System Dynamics}
\begin{itemize}
    \item Robotic arms are designed for precise and coordinated movements. Each joint is controlled by motors that apply predictable torques, resulting in synchronized changes in angular velocity and acceleration.
    \item When a joint rotates positively (e.g., \(\omega_x > 0\)), it induces a linear acceleration along the same axis as part of the controlled rotational motion.
\end{itemize}

\subsubsection*{Fixed Axis of Rotation}
\begin{itemize}
    \item Unlike free-moving objects, the axes of rotation in a robotic arm are fixed, ensuring that the measured angular velocities and accelerations align in their respective directions without interference from external or random forces.
\end{itemize}

This predictable alignment between angular velocity and acceleration highlights the consistency of the robotic arm's motion and validates the observed variations in the provided graphs.



\subsection{Task 2}

Preprocessing sensor data is a vital step to ensure accurate and meaningful analysis. Raw data, collected from accelerometers and rate-gyros, often contain noise and occasional outliers caused by sensor imperfections, environmental factors, or abrupt movements. These irregularities can obscure the true motion dynamics and negatively affect subsequent analyses.
In this case, a median filter was applied to clean the data effectively. This filtering technique is well-suited for handling outliers and reducing noise, as it replaces each data point with the median of its neighbors within a defined window. Unlike other filtering methods, the median filter preserves sharp transitions and edges in the data while removing unwanted spikes, making it ideal for dynamic motion data.
The results achieved with the median filter demonstrated significant improvements, yielding smooth and reliable datasets without distortions. This preprocessing ensures that the data is well-prepared for reconstructing accurate trajectories and performing further analysis with confidence in the validity of the underlying patterns.

\begin{figure}[H]
    \centerline{\includegraphics[scale=0.8]{Imagens/filteredangularvsoriginal.png}}
    \caption{Filtered angular velocity vs original (using median filter).}
    \label{fig}
\end{figure}


\begin{figure}[H]
    \centerline{\includegraphics[scale=0.8]{Imagens/filteredaccelerationvsoriginal.png}}
    \caption{Filtered acceleration vs original (using median filter)}
    \label{fig}
\end{figure}


\subsection*{Comparison of Filters}

\paragraph{1. Sliding Window Average/Median Filters}
\begin{itemize}
    \item \textbf{Average Filter:} 
    Calculates the average of data points within a sliding window, effectively reducing high-frequency noise. However, it is sensitive to outliers, as extreme values can significantly skew the average.
    \item \textbf{Median Filter:} 
    Replaces each point with the median of its neighbors within the sliding window. This makes it more robust than the average filter, as it can effectively handle outliers without distorting the signal.
\end{itemize}

\paragraph{2. Gaussian Filters}
\begin{itemize}
    \item Smooths data by applying a weighted average, where weights follow a Gaussian distribution. This reduces noise while preserving overall trends better than simple averaging.
    \item It is less robust to outliers compared to the median filter, as the weights are still influenced by extreme values.
    \item Requires the selection of a standard deviation parameter (\(\sigma\)), which controls the level of smoothing, making it less straightforward for general applications.
\end{itemize}

\paragraph{3. Savitzky–Golay Filters}
\begin{itemize}
    \item Fits a polynomial to a subset of data points within a sliding window, then replaces the center point with the value predicted by the polynomial.
    \item Effective at preserving sharp transitions and trends while reducing noise, making it ideal for smooth but non-linear signals.
    \item Sensitive to outliers, as the polynomial fit can be distorted by extreme values within the window.
    \item Requires careful tuning of the polynomial order and window size for optimal results.
\end{itemize}

\paragraph{4. Smooth Filters}
\begin{itemize}
    \item General-purpose filters that reduce noise by averaging data points or applying weighted smoothing.
    \item These filters can smooth data effectively but often blur sharp transitions, making them less suitable for dynamic systems like robotic arms.
    \item They do not specifically address outliers, which can still influence the smoothed result.
\end{itemize}

\paragraph{5. Outliers Filters}
\begin{itemize}
    \item Specifically designed to detect and remove outliers based on statistical thresholds (e.g., Z-Score or Interquartile Range methods).
    \item While effective at identifying and removing anomalies, these filters often leave gaps in the data by replacing outliers with \texttt{NaN}, requiring additional interpolation steps.
    \item Do not inherently smooth the data or reduce noise in non-outlier regions.
\end{itemize}

\subsection*{Why Use the Median Filter?}
The Median Filter stands out compared to these alternatives due to its:
\begin{itemize}
    \item \textbf{Robustness:} Unlike the Average, Gaussian, or Savitzky–Golay filters, the Median Filter is highly robust against outliers and extreme values, as it is unaffected by the magnitude of data points outside the sliding window.
    \item \textbf{Preservation of Trends:} The Median Filter preserves sharp transitions and dynamic changes better than smooth or Gaussian filters, which tend to over-smooth the data.
    \item \textbf{Simplicity:} Requires only a window size as a parameter, making it simpler to implement than Gaussian or Savitzky–Golay filters, which require tuning of additional parameters (e.g., \(\sigma\) or polynomial order).
    \item \textbf{Completeness:} Unlike Outliers Filters, the Median Filter does not leave gaps in the data and simultaneously reduces noise and removes anomalies.
\end{itemize}


\subsection{Task 3}


\subsection{Task 4}

To reconstruct the sensor orientation in Euler angles \((\alpha, \beta, \gamma)\) using rate-gyro data, we analyze the relationship between angular velocities \((\omega_x, \omega_y, \omega_z)\) and the derivatives of the Euler angles. The \textbf{ZYX Euler angle convention} was selected because it provides an intuitive sequence for controlling robotic manipulators, such as the Scorbot VII, allowing separate adjustments for direction, height, and tool orientation.

\subsubsection{Theory and Mathematical Formulation}

In this convention, the angles represent rotations applied in a specific order:
\begin{itemize}
    \item \textbf{Yaw (\(\gamma\))} — rotation about the global Z-axis. This initial rotation aligns the manipulator to face the target, orienting its base towards the goal.
    \item \textbf{Pitch (\(\beta\))} — rotation about the new Y-axis after the yaw rotation. This step adjusts the vertical alignment of the manipulator relative to the goal.
    \item \textbf{Roll (\(\alpha\))} — rotation about the new X-axis following the yaw and pitch rotations. This final adjustment ensures the gripper or tool is properly oriented for interaction with the target.
\end{itemize}

By properly parameterizing these rotations, we ensure predictable and precise control of the manipulator's movements, essential for tasks involving accurate positioning and end-effector orientation.

\paragraph{Parameterization}
To reconstruct the orientation accurately, we define the following parameters:
\begin{itemize}
    \item \(\alpha, \beta, \gamma\): Euler angles representing the sensor's orientation in 3D space.
    \item \(\omega_x, \omega_y, \omega_z\): Angular velocities provided by the rate-gyro, indicating rotational speeds around the sensor’s local axes. These values are taken from the dataset provided in the file.
    \item \(\Delta t\): Time interval between consecutive measurements, essential for discrete numerical integration.
    \item \(\mathbf{J}(\alpha, \beta, \gamma)\): Jacobian matrix that relates the angular velocities to the changes in the Euler angles.
\end{itemize}

The task is to relate the angular velocities \((\omega_x, \omega_y, \omega_z)\) to the time derivatives of the Euler angles \((\dot{\alpha}, \dot{\beta}, \dot{\gamma})\), using a transformation matrix.

The relationship between angular velocities and the derivatives of the Euler angles is defined by the Jacobian matrix, shown in Equation~\eqref{eq:jacobian_relationship}:

\begin{equation}
\label{eq:jacobian_relationship}
\begin{bmatrix}
\dot{\alpha} \\
\dot{\beta} \\
\dot{\gamma}
\end{bmatrix} = 
\mathbf{J}^{-1}(\alpha, \beta, \gamma) \cdot 
\begin{bmatrix}
\omega_x \\
\omega_y \\
\omega_z
\end{bmatrix}
\end{equation}

Where \( \mathbf{J}(\alpha, \beta, \gamma) \) is the Jacobian matrix that links the angular velocities to the changes in Euler angles. For the ZYX convention, the Jacobian matrix is given by Equation~\eqref{eq:jacobian_matrix}:

\begin{equation}
\label{eq:jacobian_matrix}
\mathbf{J}(\alpha, \beta) =
\begin{bmatrix}
1 & \sin(\alpha) \tan(\beta) & \cos(\alpha) \tan(\beta) \\
0 & \cos(\alpha) & -\sin(\alpha) \\
0 & \frac{\sin(\alpha)}{\cos(\beta)} & \frac{\cos(\alpha)}{\cos(\beta)}
\end{bmatrix}
\end{equation}

Each term in the Jacobian matrix reflects the dependency between rotations and angular velocities. For instance, the appearance of trigonometric functions, such as \(\sin(\alpha)\) or \(\cos(\beta)\), results from the sequential nature of the ZYX rotations and their cumulative impact on the orientation.

From this matrix, we derive the equations for the time derivatives of the Euler angles, presented in Equations~\eqref{eq:alpha_dot}, \eqref{eq:beta_dot}, and \eqref{eq:gamma_dot}:

\begin{equation}
\label{eq:alpha_dot}
\dot{\alpha} = \omega_x + \sin(\alpha) \tan(\beta) \cdot \omega_y + \cos(\alpha) \tan(\beta) \cdot \omega_z
\end{equation}

\begin{equation}
\label{eq:beta_dot}
\dot{\beta} = \cos(\alpha) \cdot \omega_y - \sin(\alpha) \cdot \omega_z
\end{equation}

\begin{equation}
\label{eq:gamma_dot}
\dot{\gamma} = \frac{\sin(\alpha)}{\cos(\beta)} \cdot \omega_y + \frac{\cos(\alpha)}{\cos(\beta)} \cdot \omega_z
\end{equation}

\paragraph{Limitation of the ZYX Convention}
The ZYX Euler angle convention, while intuitive and practical, has a significant limitation: it becomes singular when \(\beta = \pm 90^\circ\), a phenomenon known as the \textit{gimbal lock}. At these angles, the pitch rotation aligns the global and local axes, effectively reducing the degrees of freedom in orientation from three to two. Mathematically, this occurs because \(\tan(\beta)\) and \(1/\cos(\beta)\) become undefined when \(\cos(\beta) = 0\), making the Jacobian matrix \(\mathbf{J}(\alpha, \beta)\) non-invertible.

In the context of the Scorbot VII, this limitation implies that certain orientations where the manipulator points directly up or down (near \(\beta = \pm 90^\circ\)) can lead to ambiguous or unstable control of the end effector. While the Scorbot VII primarily uses revolute joints, its trajectory planning and orientation representation may still encounter challenges near these singular configurations.

\paragraph{Example Calculation}
To illustrate the use of these formulas with real data, consider an entry from the dataset provided in the file. For the time step corresponding to \( t = 692028 \, \mu s \), the rate-gyro measurements are:

\begin{equation}
\label{eq:rate-gyro}
\omega_x = -2.0^\circ/\text{s}, \quad \omega_y = 1.0^\circ/\text{s}, \quad \omega_z = -1.0^\circ/\text{s}
\end{equation}

We convert them to radians per second:

\begin{equation}
\label{eq:rate-gyro-rad}
\omega_x \approx -0.0349 \, \text{rad/s}, \quad \omega_y \approx 0.0175 \, \text{rad/s}, \quad \omega_z \approx -0.0175 \, \text{rad/s}
\end{equation}

For the initial conditions, let's assume the current Euler angles are all zero:
\[
\alpha_k = 0.0 \, \text{rad}, \quad \beta_k = 0.0 \, \text{rad}, \quad \gamma_k = 0.0 \, \text{rad}
\]

We can calculate the derivatives using Equations~\eqref{eq:alpha_dot}, \eqref{eq:beta_dot}, and \eqref{eq:gamma_dot}:

\[
\dot{\alpha}_k = -0.0349 + \sin(0.0) \cdot \tan(0.0) \cdot 0.0175 + \cos(0.0) \cdot \tan(0.0) \cdot (-0.0175)
\]
\[
\dot{\beta}_k = \cos(0.0) \cdot 0.0175 - \sin(0.0) \cdot (-0.0175) = 0.0175
\]
\[
\dot{\gamma}_k = \frac{\sin(0.0)}{\cos(0.0)} \cdot 0.0175 + \frac{\cos(0.0)}{\cos(0.0)} \cdot (-0.0175) = -0.0175
\]

After calculating the derivatives, they are:
\[
\dot{\alpha}_k \approx -0.0349 \, \text{rad/s}, \quad \dot{\beta}_k \approx 0.0175 \, \text{rad/s}, \quad \dot{\gamma}_k \approx -0.0175 \, \text{rad/s}
\]

These derivatives will then be integrated over time to estimate the updated Euler angles.

\subsubsection{Numerical Integration}
To estimate the Euler angles over time, numerical integration is performed using the angular velocities. The continuous integration formulas are given in Equations~\eqref{eq:alpha_integral}, \eqref{eq:beta_integral}, and \eqref{eq:gamma_integral}:

\begin{equation}
\label{eq:alpha_integral}
\alpha(t) = \alpha_0 + \int_0^t \dot{\alpha} \, dt
\end{equation}

\begin{equation}
\label{eq:beta_integral}
\beta(t) = \beta_0 + \int_0^t \dot{\beta} \, dt
\end{equation}

\begin{equation}
\label{eq:gamma_integral}
\gamma(t) = \gamma_0 + \int_0^t \dot{\gamma} \, dt
\end{equation}

For discrete time intervals, the equations become:

\begin{equation}
\label{eq:alpha_discrete}
\alpha_{k+1} = \alpha_k + \dot{\alpha}_k \cdot \Delta t
\end{equation}

\begin{equation}
\label{eq:beta_discrete}
\beta_{k+1} = \beta_k + \dot{\beta}_k \cdot \Delta t
\end{equation}

\begin{equation}
\label{eq:gamma_discrete}
\gamma_{k+1} = \gamma_k + \dot{\gamma}_k \cdot \Delta t
\end{equation}

Here, \( \Delta t \) is the time interval between consecutive measurements, expressed in seconds as:
\[
\Delta t = (t_{k+1} - t_k) \cdot 10^{-6}
\]
This process is repeated for each time step to iteratively compute the Euler angles over the entire trajectory.

\subsection{Task 5}


\subsection{Task 6}


\subsection{Task 7}


\subsection{Task 8}

% ----------------------------------------------------------------------
% Conclusão
% ----------------------------------------------------------------------
\section{Conclusion}


% ----------------------------------------------------------------------
% Referências
% ----------------------------------------------------------------------
\bibliographystyle{plain}
\bibliography{refs}

% ----------------------------------------------------------------------
% Apêndices
% ----------------------------------------------------------------------

\appendix  
\clearpage
\addappheadtotoc 
\appendixpage 


\end{document}